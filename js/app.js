!function(){"use strict";function t(t,e){for(var n=e.length,r=new Array(n+1),i=0;i<n;++i)r[i]=e[i];return r[n]=t,r}function e(t,e,n){for(var r=e,i=0,o=n.length;i<o;++i)r=t(r,n[i],i);return r}function n(t,e){if(t<0)throw new TypeError("i must be >= 0");var n=e.length;return 0===n||t>=n?e:1===n?[]:function(t,e,n){var r=new Array(n),i=void 0;for(i=0;i<t;++i)r[i]=e[i];for(i=t;i<n;++i)r[i]=e[i+1];return r}(t,e,n-1)}function r(t,e){for(var n=0,r=e.length;n<r;++n)if(t===e[n])return n;return-1}var i=function(t){return t},o=function(t,e){return function(n){return t(e(n))}};function s(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return function(e){return t(n,e)};default:return t(n,r)}}}function c(t){return function e(n,r,i){switch(arguments.length){case 0:return e;case 1:return s(function(e,r){return t(n,e,r)});case 2:return function(e){return t(n,r,e)};default:return t(n,r,i)}}}var u=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l=function(){function t(e,n,r,i,o){u(this,t),this.time=e,this.localOffset=n,this.period=r,this.task=i,this.scheduler=o,this.active=!0}return t.prototype.run=function(){return this.task.run(this.time-this.localOffset)},t.prototype.error=function(t){return this.task.error(this.time-this.localOffset,t)},t.prototype.dispose=function(){return this.scheduler.cancel(this),this.task.dispose()},t}(),a=function(){function t(e,n){u(this,t),this.origin=e,this.scheduler=n}return t.prototype.currentTime=function(){return this.scheduler.currentTime()-this.origin},t.prototype.scheduleTask=function(t,e,n,r){return this.scheduler.scheduleTask(t+this.origin,e,n,r)},t.prototype.relative=function(e){return new t(e+this.origin,this.scheduler)},t.prototype.cancel=function(t){return this.scheduler.cancel(t)},t.prototype.cancelAll=function(t){return this.scheduler.cancelAll(t)},t}(),h=function(t){return Promise.resolve(t).then(f)};function f(t){try{return t.run()}catch(e){return t.error(e)}}var p=function(){function t(e,n){var r=this;u(this,t),this.timer=e,this.timeline=n,this._timer=null,this._nextArrival=1/0,this._runReadyTasksBound=function(){return r._runReadyTasks(r.currentTime())}}return t.prototype.currentTime=function(){return this.timer.now()},t.prototype.scheduleTask=function(t,e,n,r){var i=this.currentTime()+Math.max(0,e),o=new l(i,t,n,r,this);return this.timeline.add(o),this._scheduleNextRun(),o},t.prototype.relative=function(t){return new a(t,this)},t.prototype.cancel=function(t){t.active=!1,this.timeline.remove(t)&&this._reschedule()},t.prototype.cancelAll=function(t){this.timeline.removeAll(t),this._reschedule()},t.prototype._reschedule=function(){this.timeline.isEmpty()?this._unschedule():this._scheduleNextRun(this.currentTime())},t.prototype._unschedule=function(){this.timer.clearTimer(this._timer),this._timer=null},t.prototype._scheduleNextRun=function(){if(!this.timeline.isEmpty()){var t=this.timeline.nextArrival();null===this._timer?this._scheduleNextArrival(t):t<this._nextArrival&&(this._unschedule(),this._scheduleNextArrival(t))}},t.prototype._scheduleNextArrival=function(t){this._nextArrival=t;var e=Math.max(0,t-this.currentTime());this._timer=this.timer.setTimer(this._runReadyTasksBound,e)},t.prototype._runReadyTasks=function(){this._timer=null,this.timeline.runTasks(this.currentTime(),f),this._scheduleNextRun()},t}(),d=function(){function t(){u(this,t),this.tasks=[]}return t.prototype.nextArrival=function(){return this.isEmpty()?1/0:this.tasks[0].time},t.prototype.isEmpty=function(){return 0===this.tasks.length},t.prototype.add=function(t){m(t,this.tasks)},t.prototype.remove=function(t){var e=w(y(t),this.tasks);if(e>=0&&e<this.tasks.length){var n=r(t,this.tasks[e].events);if(n>=0)return this.tasks[e].events.splice(n,1),!0}return!1},t.prototype.removeAll=function(t){for(var e=0;e<this.tasks.length;++e)g(t,this.tasks[e])},t.prototype.runTasks=function(t,e){for(var n=this.tasks,r=n.length,i=0;i<r&&n[i].time<=t;)++i;this.tasks=n.slice(i);for(var o=0;o<i;++o)this.tasks=v(e,n[o].events,this.tasks)},t}();function v(t,e,n){for(var r=0;r<e.length;++r){var i=e[r];i.active&&(t(i),i.period>=0&&i.active&&(i.time=i.time+i.period,m(i,n)))}return n}function m(t,e){var n=e.length,r=y(t);if(0!==n){var i=w(r,e);i>=n?e.push(b(r,[t])):function(t,e,n,r){var i=e[r];n===i.time?function(t,e){0===e.length||t.time>=e[e.length-1].time?e.push(t):function(t,e){for(var n=0;n<e.length;n++)if(t.time<e[n].time){e.splice(n,0,t);break}}(t,e)}(t,i.events):e.splice(r,0,b(n,[t]))}(t,e,r,i)}else e.push(b(r,[t]))}function y(t){return Math.floor(t.time)}function g(t,e){e.events=function(t,e){for(var n,r=e.length,i=new Array(r),o=0,s=0;s<r;++s)t(n=e[s])||(i[o]=n,++o);return i.length=o,i}(t,e.events)}function w(t,e){for(var n=0,r=e.length,i=void 0,o=void 0;n<r;){if(t===(o=e[i=Math.floor((n+r)/2)]).time)return i;t<o.time?r=i:n=i+1}return r}var b=function(t,e){return{time:t,events:e}},k=function(){function t(e){u(this,t),this._clock=e}return t.prototype.now=function(){return this._clock.now()},t.prototype.setTimer=function(t,e){return e<=0?function(t){var e=new x(t);return h(e),e}(t):setTimeout(t,e)},t.prototype.clearTimer=function(t){return t instanceof x?t.cancel():clearTimeout(t)},t}(),x=function(){function t(e){u(this,t),this.f=e,this.active=!0}return t.prototype.run=function(){return this.active&&this.f()},t.prototype.error=function(t){throw t},t.prototype.cancel=function(){this.active=!1},t}();var N=function(){function t(e,n){u(this,t),this.origin=n,this.clock=e}return t.prototype.now=function(){return this.clock.now()-this.origin},t}(),T=function(){function t(e,n){u(this,t),this.origin=n,this.hrtime=e}return t.prototype.now=function(){var t=this.hrtime(this.origin);return(1e9*t[0]+t[1])/1e6},t}(),_=function(t){return new N(t,t.now())},E=function(){return"undefined"!=typeof performance&&"function"==typeof performance.now?_(performance):"undefined"!=typeof process&&"function"==typeof process.hrtime?new T(process.hrtime,process.hrtime()):_(Date)},A=s(function(t,e){return e.scheduleTask(0,0,-1,t)}),C=function(){return new k(E())},$=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},j=function(){return O},O=new(function(){function t(){$(this,t)}return t.prototype.dispose=function(){},t}()),S=function(t){return new L(t)},L=function(){function t(e){$(this,t),this.disposed=!1,this.disposable=e}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposable.dispose(),this.disposable=void 0)},t}(),M=function(t){var n=e(D,[],t);return 0===n.length?j():new P(n)},R=s(function(t,e){return M([t,e])}),D=function(e,n){return function(t){return t===O}(n)?e:n instanceof P?e.concat(n.disposables):t(n,e)},P=function(){function t(e){$(this,t),this.disposables=e}return t.prototype.dispose=function(){q(B(this.disposables))},t}(),B=function(t){return e(H,[],t)},H=function(t,e){try{e.dispose()}catch(e){t.push(e)}return t},q=function(t){if(t.length>0)throw new I(t.length+" errors",t)},I=function(t){function e(n,r){t.call(this,n),this.message=n,this.name=e.name,this.errors=r,t.captureStackTrace&&t.captureStackTrace(this,e),this.stack=""+this.stack+z(this.errors)}return e.prototype=Object.create(t.prototype),e}(Error),z=function(t){return e(F,"",t)},F=function(t,e,n){return t+"\n["+(n+1)+"] "+e.stack},Z=c(function(t,e,n){try{e.dispose()}catch(e){n.error(t,e)}});function V(t){throw t}var W=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},G=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},U=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},J=function(t,e,n){return new X(t,e,n)},K=function(t,e){return J(Y,t,e)},Q=function(t){return J(tt,void 0,t)},X=function(){function t(e,n,r){W(this,t),this._run=e,this.value=n,this.sink=r,this.active=!0}return t.prototype.dispose=function(){this.active=!1},t.prototype.run=function(t){if(this.active){var e=this._run;e(t,this.value,this.sink)}},t.prototype.error=function(t,e){if(!this.active)return function(t){setTimeout(V,0,t)}(e);this.sink.error(t,e)},t}(),Y=function(t,e,n){return n.event(t,e)},tt=function(t,e,n){return n.end(t)},et=function(){return rt},nt=function(t){return t===rt},rt=new(function(){function t(){W(this,t)}return t.prototype.run=function(t,e){return A(Q(t),e)},t}()),it=new(function(){function t(){W(this,t)}return t.prototype.run=function(){return j()},t}()),ot=function(){function t(e){W(this,t),this.sink=e}return t.prototype.event=function(t,e){return this.sink.event(t,e)},t.prototype.end=function(t){return this.sink.end(t)},t.prototype.error=function(t,e){return this.sink.error(t,e)},t}(),st=function(){function t(e,n){W(this,t),this.p=e,this.source=n}return t.prototype.run=function(t,e){return this.source.run(new ct(this.p,t),e)},t.create=function(e,n){return nt(n)?n:n instanceof t?new t(ut(n.p,e),n.source):new t(e,n)},t}(),ct=function(t){function e(n,r){W(this,e);var i=U(this,t.call(this,r));return i.p=n,i}return G(e,t),e.prototype.event=function(t,e){(0,this.p)(e)&&this.sink.event(t,e)},e}(ot),ut=function(t,e){return function(n){return t(n)&&e(n)}},lt=function(){function t(e,n,r){W(this,t),this.p=e,this.f=n,this.source=r}return t.prototype.run=function(t,e){return this.source.run(new at(this.p,this.f,t),e)},t}(),at=function(t){function e(n,r,i){W(this,e);var o=U(this,t.call(this,i));return o.p=n,o.f=r,o}return G(e,t),e.prototype.event=function(t,e){var n=this.f;(0,this.p)(e)&&this.sink.event(t,n(e))},e}(ot),ht=function(){function t(e,n){W(this,t),this.f=e,this.source=n}return t.prototype.run=function(t,e){return this.source.run(new ft(this.f,t),e)},t.create=function(e,n){return nt(n)?et():n instanceof t?new t(o(e,n.f),n.source):n instanceof st?new lt(n.p,e,n.source):new t(e,n)},t}(),ft=function(t){function e(n,r){W(this,e);var i=U(this,t.call(this,r));return i.f=n,i}return G(e,t),e.prototype.event=function(t,e){var n=this.f;this.sink.event(t,n(e))},e}(ot),pt=function(){function t(){W(this,t),this.disposable=void 0,this.disposed=!1}return t.prototype.setDisposable=function(t){if(void 0!==this.disposable)throw new Error("setDisposable called more than once");this.disposable=t,this.disposed&&t.dispose()},t.prototype.dispose=function(){this.disposed||(this.disposed=!0,void 0!==this.disposable&&this.disposable.dispose())},t}(),dt=s(function(t,e){return new Promise(function(n,r){return function(t,e,n,r){var i=new pt,o=new vt(n,r,i);i.setDisposable(t.run(o,e))}(t,e,n,r)})});var vt=function(){function t(e,n,r){W(this,t),this._end=e,this._error=n,this._disposable=r,this.active=!0}return t.prototype.event=function(t,e){},t.prototype.end=function(t){this.active&&this._dispose(this._error,this._end,void 0)},t.prototype.error=function(t,e){this._dispose(this._error,this._error,e)},t.prototype._dispose=function(t,e,n){this.active=!1,function(t,e,n,r){try{r.dispose()}catch(e){return void t(e)}e(n)}(t,e,n,this._disposable)},t}();var mt=function(){function t(e,n,r){W(this,t),this.source=r,this.f=e,this.value=n}return t.prototype.run=function(t,e){var n=A(K(this.value,t),e),r=this.source.run(new yt(this.f,this.value,t),e);return R(n,r)},t}(),yt=function(t){function e(n,r,i){W(this,e);var o=U(this,t.call(this,i));return o.f=n,o.value=r,o}return G(e,t),e.prototype.event=function(t,e){var n=this.f;this.value=n(this.value,e),this.sink.event(t,this.value)},e}(ot),gt=function(t){function e(n,r){W(this,e);var i=U(this,t.call(this,r));return i.index=n,i.active=!0,i.value=void 0,i}return G(e,t),e.prototype.event=function(t,e){this.active&&(this.value=e,this.sink.event(t,this))},e.prototype.end=function(t){this.active&&(this.active=!1,this.sink.event(t,this))},e}(ot);var wt=function(t){return bt(kt(t))},bt=function(t){return 0===t.length?et():1===t.length?t[0]:new Tt(e(Nt,[],t))},kt=function(t){return t.filter(xt)},xt=function(t){return!nt(t)},Nt=function(t,e){return t.concat(e instanceof Tt?e.sources:e)},Tt=function(){function t(e){W(this,t),this.sources=e}return t.prototype.run=function(t,e){for(var n,r=this.sources.length,i=new Array(r),o=new Array(r),s=new _t(i,o,t),c=0;c<r;++c)n=o[c]=new gt(c,s),i[c]=this.sources[c].run(n,e);return M(i)},t}(),_t=function(t){function e(n,r,i){W(this,e);var o=U(this,t.call(this,i));return o.disposables=n,o.activeCount=r.length,o}return G(e,t),e.prototype.event=function(t,e){e.active?this.sink.event(t,e.value):this._dispose(t,e.index)},e.prototype._dispose=function(t,e){Z(t,this.disposables[e],this.sink),0==--this.activeCount&&this.sink.end(t)},e}(ot);var Et=function(t,e){return nt(e)?et():new At(t,e)},At=function(){function t(e,n){W(this,t),this.equals=e,this.source=n}return t.prototype.run=function(t,e){return this.source.run(new Ct(this.equals,t),e)},t}(),Ct=function(t){function e(n,r){W(this,e);var i=U(this,t.call(this,r));return i.equals=n,i.value=void 0,i.init=!0,i}return G(e,t),e.prototype.event=function(t,e){this.init?(this.init=!1,this.value=e,this.sink.event(t,e)):this.equals(this.value,e)||(this.value=e,this.sink.event(t,e))},e}(ot);function $t(t,e){return t===e}function jt(t,e,n){try{n.event(t,e)}catch(e){n.error(t,e)}}function Ot(t,e){try{e.end(t)}catch(n){e.error(t,n)}}var St=function(){function e(t){W(this,e),this.source=t,this.sinks=[],this.disposable=j()}return e.prototype.run=function(t,e){return 1===this.add(t)&&(this.disposable=this.source.run(this,e)),S(new Lt(this,t))},e.prototype.dispose=function(){var t=this.disposable;return this.disposable=j(),t.dispose()},e.prototype.add=function(e){return this.sinks=t(e,this.sinks),this.sinks.length},e.prototype.remove=function(t){var e=r(t,this.sinks);return e>=0&&(this.sinks=n(e,this.sinks)),this.sinks.length},e.prototype.event=function(t,e){var n=this.sinks;if(1===n.length)return n[0].event(t,e);for(var r=0;r<n.length;++r)jt(t,e,n[r])},e.prototype.end=function(t){for(var e=this.sinks,n=0;n<e.length;++n)Ot(t,e[n])},e.prototype.error=function(t,e){for(var n=this.sinks,r=0;r<n.length;++r)n[r].error(t,e)},e}(),Lt=function(){function t(e,n){W(this,t),this.source=e,this.sink=n}return t.prototype.dispose=function(){0===this.source.remove(this.sink)&&this.source.dispose()},t}(),Mt=s(dt),Rt=c(function(t,e,n){return new mt(t,e,n)}),Dt=s(function(t,e){return ht.create(t,e)}),Pt=s(function(t,e){return wt([t,e])}),Bt=function(t,e,n){this.event=t,this.node=e,this.capture=n};Bt.prototype.run=function(t,e){var n=this,r=function(n){return function(t,e,n){try{n.event(t,e)}catch(e){n.error(t,e)}}(e.currentTime(),n,t)};return this.node.addEventListener(this.event,r,this.capture),{dispose:function(){return n.node.removeEventListener(n.event,r,n.capture)}}};var Ht=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};const qt=(t,{completed:e})=>t+(e?1:0),It=document.defaultView,zt=1,Ft=/^area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr$/i,Zt="http://www.w3.org/2000/svg",Vt="connected",Wt="dis"+Vt,Gt=/^style|textarea$/i,Ut="_hyper: "+(Math.random()*new Date|0)+";",Jt="\x3c!--"+Ut+"--\x3e";let Kt=It.Event;try{new Kt("Event")}catch(t){Kt=function(t){const e=document.createEvent("Event");return e.initEvent(t,!1,!1),e}}const Qt=It.Map||function(){const t=[],e=[];return{get:n=>e[t.indexOf(n)],set(n,r){e[t.push(n)-1]=r}}};let Xt=0;const Yt=It.WeakMap||function(){const t=Ut+Xt++;return{get:e=>e[t],set(e,n){Object.defineProperty(e,t,{configurable:!0,value:n})}}},te=It.WeakSet||function(){const t=new Yt;return{add(e){t.set(e,!0)},has:e=>!0===t.get(e)}},ee=Array.isArray||(t=>e=>"[object Array]"===t.call(e))({}.toString),ne=Ut.trim||function(){return this.replace(/^\s+|\s+$/g,"")};function re(){return this}const ie=(t,e)=>{const n="_"+t+"$";return{get(){return this[n]||(this[t]=e.call(this,t))},set(t){Object.defineProperty(this,n,{configurable:!0,value:t})}}},oe={},se=[],ce=oe.hasOwnProperty;let ue=0;var le=(t,e)=>{for(let n=0;n<ue;n++){let r=se[n];if(ce.call(t,r))return oe[r](t[r],e)}};const ae=(t,e)=>he(t).createElement(e),he=t=>t.ownerDocument||t,fe=t=>he(t).createDocumentFragment(),pe=(t,e)=>he(t).createTextNode(e),de=" \\f\\n\\r\\t",ve="[ "+de+"]+[^  \\f\\n\\r\\t\\/>\"'=]+",me="<([A-Za-z]+[A-Za-z0-9:_-]*)((?:",ye="(?:=(?:'[^']*?'|\"[^\"]*?\"|<[^>]*?>|[^  \\f\\n\\r\\t\\/>\"'=]+))?)",ge=new RegExp(me+ve+ye+"+)([ "+de+"]*/?>)","g"),we=new RegExp(me+ve+ye+"*)([ "+de+"]*/>)","g"),be=fe(document),ke="append"in be,xe="content"in ae(document,"template");be.appendChild(pe(be,"g")),be.appendChild(pe(be,""));const Ne=1===be.cloneNode(!0).childNodes.length,Te="importNode"in document,_e=ke?(t,e)=>{t.append.apply(t,e)}:(t,e)=>{const n=e.length;for(let r=0;r<n;r++)t.appendChild(e[r])},Ee=new RegExp("("+ve+"=)(['\"]?)"+Jt+"\\2","gi"),Ae=(t,e,n,r)=>"<"+e+n.replace(Ee,Ce)+r,Ce=(t,e,n)=>e+(n||'"')+Ut+(n||'"'),$e=(t,e)=>("ownerSVGElement"in t?Pe:De)(t,e.replace(ge,Ae)),je=Ne?t=>{const e=t.cloneNode(),n=t.childNodes||[],r=n.length;for(let t=0;t<r;t++)e.appendChild(je(n[t]));return e}:t=>t.cloneNode(!0),Oe=t=>{const e=[],n=t.childNodes,r=n.length;for(let t=0;t<r;t++)n[t].nodeType===zt&&e.push(n[t]);return e},Se=Te?(t,e)=>t.importNode(e,!0):(t,e)=>je(e),Le=[].slice,Me=t=>Re(t);let Re=t=>{if(t.propertyIsEnumerable("raw")||/Firefox\/(\d+)/.test((It.navigator||{}).userAgent)&&parseFloat(RegExp.$1)<55){const t={};Re=(e=>{const n="^"+e.join("^");return t[n]||(t[n]=e)})}else Re=(t=>t);return Re(t)};const De=xe?(t,e)=>{const n=ae(t,"template");return n.innerHTML=e,n.content}:(t,e)=>{const n=ae(t,"template"),r=fe(t);if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(e)){const t=RegExp.$1;n.innerHTML="<table>"+e+"</table>",_e(r,Le.call(n.querySelectorAll(t)))}else n.innerHTML=e,_e(r,Le.call(n.childNodes));return r},Pe=xe?(t,e)=>{const n=fe(t),r=he(t).createElementNS(Zt,"svg");return r.innerHTML=e,_e(n,Le.call(r.childNodes)),n}:(t,e)=>{const n=fe(t),r=ae(t,"div");return r.innerHTML='<svg xmlns="'+Zt+'">'+e+"</svg>",_e(n,Le.call(r.firstChild.childNodes)),n};function Be(t){this.childNodes=t,this.length=t.length,this.first=t[0],this.last=t[this.length-1]}Be.prototype.insert=function(){const t=fe(this.first);return _e(t,this.childNodes),t},Be.prototype.remove=function(){const t=this.first,e=this.last;if(2===this.length)e.parentNode.removeChild(e);else{const n=he(t).createRange();n.setStartBefore(this.childNodes[1]),n.setEndAfter(e),n.deleteContents()}return t};const He=(t,e,n)=>{t.unshift(t.indexOf.call(e.childNodes,n))};var qe=(t,e,n)=>({type:t,name:n,node:e,path:(t=>{const e=[];let n;switch(t.nodeType){case zt:case 11:n=t;break;case 8:n=t.parentNode,He(e,n,t);break;default:n=t.ownerElement}for(t=n;n=n.parentNode;t=n)He(e,n,t);return e})(e)}),Ie=(t,e)=>{const n=e.length;for(let r=0;r<n;r++)t=t.childNodes[e[r]];return t};const ze=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;const Fe=(t,e)=>{let n,r;return i=>{switch(typeof i){case"object":if(i){if("object"===n){if(!e&&r!==i)for(const e in r)e in i||(t[e]="")}else e?t.value="":t.cssText="";const o=e?{}:t;for(const t in i){const e=i[t];o[t]="number"!=typeof e||ze.test(t)?e:e+"px"}n="object",e?t.value=We(r=o):r=i;break}default:r!=i&&(n="string",r=i,e?t.value=i||"":t.cssText=i||"")}}},Ze=/([^A-Z])([A-Z]+)/g,Ve=(t,e,n)=>e+"-"+n.toLowerCase(),We=t=>{const e=[];for(const n in t)e.push(n.replace(Ze,Ve),":",t[n],";");return e.join("")},Ge=(t,e)=>t==e,Ue=t=>t,Je=(t,e,n,r)=>{if(null==r)e.removeChild(t(n,-1));else{const i=e.ownerDocument.createRange();i.setStartBefore(t(n,-1)),i.setEndAfter(t(r,-1)),i.deleteContents()}},Ke=(t,e,n,r)=>{r||(r={});const i=r.compare||Ge,o=r.node||Ue,s=null==r.before?null:o(r.before,0);let c=0,u=0,l=e.length-1,a=e[0],h=e[l],f=n.length-1,p=n[0],d=n[f];for(;c<=l&&u<=f;)if(null==a)a=e[++c];else if(null==h)h=e[--l];else if(null==p)p=n[++u];else if(null==d)d=n[--f];else if(i(a,p))a=e[++c],p=n[++u];else if(i(h,d))h=e[--l],d=n[--f];else if(i(a,d))t.insertBefore(o(a,1),o(h,-0).nextSibling),a=e[++c],d=n[--f];else if(i(h,p))t.insertBefore(o(h,1),o(a,0)),h=e[--l],p=n[++u];else{let r=e.indexOf(p);if(r<0)t.insertBefore(o(p,1),o(a,0)),p=n[++u];else{let i=r,s=u;for(;i<=l&&s<=f&&e[i]===n[s];)i++,s++;if(1<i-r)--r===c?t.removeChild(o(a,-1)):Je(o,t,a,e[r]),c=i,u=s,a=e[i],p=n[s];else{const i=e[r];e[r]=null,t.insertBefore(o(i,1),o(a,0)),p=n[++u]}}}if(c<=l||u<=f)if(c>l){const e=n[f+1],r=null==e?s:o(e,0);if(u===f)t.insertBefore(o(n[u],1),r);else{const e=t.ownerDocument.createDocumentFragment();for(;u<=f;)e.appendChild(o(n[u++],1));t.insertBefore(e,r)}}else null==e[c]&&c++,c===l?t.removeChild(o(e[c],-1)):Je(o,t,e[c],e[l]);return n},Qe=new te;function Xe(){}Xe.prototype=Object.create(null);const Ye=t=>({html:t}),tn=(t,e)=>"ELEMENT_NODE"in t?t:t.constructor===Be?1/e<0?e?t.remove():t.last:e?t.insert():t.first:tn(t.render(),e),en=(t,e,n)=>{const r=t.childNodes,i=r.length;for(let o=0;o<i;o++){let i=r[o];switch(i.nodeType){case zt:nn(i,e,n),en(i,e,n);break;case 8:i.textContent===Ut&&(n.shift(),e.push(Gt.test(t.nodeName)?qe("text",t):qe("any",i)));break;case 3:Gt.test(t.nodeName)&&ne.call(i.textContent)===Jt&&(n.shift(),e.push(qe("text",t)))}}},nn=(t,e,n)=>{const r=new Xe,i=t.attributes,o=Le.call(i),s=[],c=o.length;for(let t=0;t<c;t++){const c=o[t];if(c.value===Ut){const t=c.name;if(!(t in r)){const o=n.shift().replace(/^(?:|[\S\s]*?\s)(\S+?)=['"]?$/,"$1");r[t]=i[o]||i[o.toLowerCase()],e.push(qe("attr",r[t],o))}s.push(c)}}const u=s.length;for(let e=0;e<u;e++){const n=s[e];/^id$/i.test(n.name)?t.removeAttribute(n.name):t.removeAttributeNode(s[e])}const l=t.nodeName;if(/^script$/i.test(l)){const e=document.createElement(l);for(let t=0;t<i.length;t++)e.setAttributeNode(i[t].cloneNode(!0));e.textContent=t.textContent,t.parentNode.replaceChild(e,t)}},rn=(t,e)=>{e(t.placeholder),"text"in t?Promise.resolve(t.text).then(String).then(e):"any"in t?Promise.resolve(t.any).then(e):"html"in t?Promise.resolve(t.html).then(Ye).then(e):Promise.resolve(le(t,e)).then(e)},on=t=>null!=t&&"then"in t,sn=(t,e)=>{const n={node:tn,before:t};let r,i=!1;const o=s=>{switch(typeof s){case"string":case"number":case"boolean":i?r!==s&&(r=s,e[0].textContent=s):(i=!0,r=s,e=Ke(t.parentNode,e,[pe(t,s)],n));break;case"object":case"undefined":if(null==s){i=!1,e=Ke(t.parentNode,e,[],n);break}default:if(i=!1,r=s,ee(s))if(0===s.length)e.length&&(e=Ke(t.parentNode,e,[],n));else switch(typeof s[0]){case"string":case"number":case"boolean":o({html:s});break;case"object":if(ee(s[0])&&(s=s.concat.apply([],s)),on(s[0])){Promise.all(s).then(o);break}default:e=Ke(t.parentNode,e,s,n)}else(t=>"ELEMENT_NODE"in t||t instanceof Be||t instanceof re)(s)?e=Ke(t.parentNode,e,11===s.nodeType?Le.call(s.childNodes):[s],n):on(s)?s.then(o):"placeholder"in s?rn(s,o):"text"in s?o(String(s.text)):"any"in s?o(s.any):"html"in s?e=Ke(t.parentNode,e,Le.call($e(t,[].concat(s.html).join("")).childNodes),n):o("length"in s?Le.call(s):le(s,o))}};return o},cn=(t,e,n)=>{const r="ownerSVGElement"in t;let i;if("style"===e)return((t,e,n)=>{if(n){const r=e.cloneNode(!0);return r.value="",t.setAttributeNode(r),Fe(r,n)}return Fe(t.style,n)})(t,n,r);if(/^on/.test(e)){let n=e.slice(2);return n===Vt||n===Wt?(an&&(an=!1,function(){const t=(t,n)=>{const r=new Kt(n),i=t.length;for(let n=0;n<i;n++){let i=t[n];i.nodeType===zt&&e(i,r)}},e=(t,n)=>{Qe.has(t)&&t.dispatchEvent(n);const r=t.children||Oe(t),i=r.length;for(let t=0;t<i;t++)e(r[t],n)};try{new MutationObserver(e=>{const n=e.length;for(let r=0;r<n;r++){let n=e[r];t(n.removedNodes,Wt),t(n.addedNodes,Vt)}}).observe(document,{subtree:!0,childList:!0})}catch(e){document.addEventListener("DOMNodeRemoved",e=>{t([e.target],Wt)},!1),document.addEventListener("DOMNodeInserted",e=>{t([e.target],Vt)},!1)}}()),Qe.add(t)):e.toLowerCase()in t&&(n=n.toLowerCase()),e=>{i!==e&&(i&&t.removeEventListener(n,i,!1),i=e,e&&t.addEventListener(n,e,!1))}}if("data"===e||!r&&e in t)return n=>{i!==n&&(i=n,t[e]!==n&&(t[e]=n,null==n&&t.removeAttribute(e)))};{let e=!1;const r=n.cloneNode(!0);return n=>{i!==n&&(i=n,r.value!==n&&(null==n?(e&&(e=!1,t.removeAttributeNode(r)),r.value=n):(r.value=n,e||(e=!0,t.setAttributeNode(r)))))}}},un=t=>{let e;const n=r=>{e!==r&&(e=r,"object"==typeof r&&r?on(r)?r.then(n):"placeholder"in r?rn(r,n):n("text"in r?String(r.text):"any"in r?r.any:"html"in r?[].concat(r.html).join(""):"length"in r?Le.call(r).join(""):le(r,n)):t.textContent=null==r?"":r)};return n};var ln={create:(t,e)=>{const n=[],r=e.length;for(let i=0;i<r;i++){const r=e[i],o=Ie(t,r.path);switch(r.type){case"any":n.push(sn(o,[]));break;case"attr":n.push(cn(o,r.name,r.node));break;case"text":n.push(un(o)),o.textContent=""}}return n},find:en};let an=!0;const hn=new Yt,fn=(()=>{try{const t=new Yt,e=Object.freeze([]);if(t.set(e,!0),!t.get(e))throw e;return t}catch(t){return new Qt}})();function pn(t){const e=hn.get(this);return e&&e.template===Me(t)?dn.apply(e.updates,arguments):function(t){t=Me(t);const e=fn.get(t)||function(t){const e=[],n=t.join(Jt).replace(vn,mn),r=$e(this,n);ln.find(r,e,t.slice());const i={fragment:r,paths:e};return fn.set(t,i),i}.call(this,t),n=Se(this.ownerDocument,e.fragment),r=ln.create(n,e.paths);hn.set(this,{template:t,updates:r}),dn.apply(r,arguments),this.textContent="",this.appendChild(n)}.apply(this,arguments),this}function dn(){const t=arguments.length;for(let e=1;e<t;e++)this[e-1](arguments[e])}const vn=we,mn=(t,e,n)=>Ft.test(e)?t:"<"+e+n+"></"+e+">",yn=new Yt,gn=(t,e)=>null==t?wn(e||"html"):bn(t,e||"html"),wn=t=>{let e,n,r,i,o;return function(s){s=Me(s);let c=i!==s;return c&&(i=s,r=fe(document),n="svg"===t?document.createElementNS(Zt,"svg"):r,o=pn.bind(n)),o.apply(null,arguments),c&&("svg"===t&&_e(r,Le.call(n.childNodes)),e=kn(r)),e}},bn=(t,e)=>{const n=e.indexOf(":");let r=yn.get(t),i=e;return-1<n&&(i=e.slice(n+1),e=e.slice(0,n)||"html"),r||yn.set(t,r={}),r[i]||(r[i]=wn(e))},kn=t=>{const e=t.childNodes,n=e.length,r=[];for(let t=0;t<n;t++){let n=e[t];n.nodeType!==zt&&0===ne.call(n.textContent).length||r.push(n)}return 1===r.length?r[0]:new Be(r)},xn=t=>pn.bind(t);!function(t){const e=new Yt,n=Object.create,r=(t,e)=>{const n={w:null,p:null};return e.set(t,n),n};Object.defineProperties(re,{for:{configurable:!0,value(t,i){return((t,e,i,o)=>{const s=e.get(t)||r(t,e);switch(typeof o){case"object":case"function":const e=s.w||(s.w=new Yt);return e.get(o)||((t,e,n)=>(t.set(e,n),n))(e,o,new t(i));default:const r=s.p||(s.p=n(null));return r[o]||(r[o]=new t(i))}})(this,e.get(t)||(t=>{const n=new Qt;return e.set(t,n),n})(t),t,null==i?"default":i)}}}),Object.defineProperties(re.prototype,{handleEvent:{value(t){const e=t.currentTarget;this["getAttribute"in e&&e.getAttribute("data-call")||"on"+t.type](t)}},html:ie("html",t),svg:ie("svg",t),state:ie("state",function(){return this.defaultState}),defaultState:{get:()=>({})},setState:{value(t,e){const n=this.state,r="function"==typeof t?t.call(this,n):t;for(const t in r)n[t]=r[t];return!1!==e&&this.render(),this}}})}(wn);const Nn=t=>{const e=t.closest("[data-id]");return e instanceof HTMLElement?Number(e.dataset.id):-1},Tn=t=>{const e=t.target.value.trim();return 13!==t.keyCode||0===e.length?i:(t.target.value="",(t=>e=>Ht({},e,{nextId:e.nextId+1,todos:e.todos.concat([((t,e)=>({description:t,completed:!1,id:e}))(t,e.nextId)])}))(e))},_n=t=>(t=>e=>Ht({},e,{todos:e.todos.map(e=>Ht({},e,{completed:t}))}))(t.target.checked),En=t=>((t,e)=>n=>Ht({},n,{todos:n.todos.map(n=>n.id===e?Ht({},n,{completed:t}):n)}))(t.target.checked,Nn(t.target)),An=t=>(t=>e=>Ht({},e,{todos:e.todos.filter(e=>e.id!==t)}))(Nn(t.target)),Cn=t=>t=>Ht({},t,{todos:t.todos.filter(t=>!t.completed)}),$n=t=>e=>e?t:"",jn=$n("completed"),On=$n("selected"),Sn=(t,e,n)=>gn()`<section class="main">
    <input id="toggle-all" class="toggle-all" type="checkbox" checked=${e} onchange=${o(t,_n)}>
    <label for="toggle-all">Mark all as complete</label>
    <ul class="todo-list">
      <!-- These are here just to show the structure of the list items -->
      <!-- List items should get the class editing when editing and completed when marked as completed -->
      ${n.map(Ln(o(t,En),o(t,An)))}
    </ul>
  </section>`,Ln=(t,e)=>({id:n,completed:r,description:i})=>gn()`<li data-id="${n}" class="${jn(r)}">
    <div class="view">
      <input class="toggle" type="checkbox" checked=${r} onchange=${t}>
      <label>${i}</label>
      <button class="destroy" onclick="${e}"></button>
    </div>
    <input class="edit" value="${i}">
  </li>`,Mn=(t,e,n,{todos:r,filter:i})=>gn()`<footer class="footer" style="${0===r.length?"display:none":""}">
    <!-- This should be 0 items left by default -->
    <span class="todo-count"><strong>${e}</strong> ${1===e?"item":"items"} left</span>
    <!-- Remove this if you don't implement routing -->
    <ul class="filters">
      <li><a class="${On("/"===i)}" href="#/">All</a><li>
      <li><a class="${On("/active"===i)}" href="#/active">Active</a><li>
      <li><a class="${On("/completed"===i)}" href="#/completed">Completed</a><li>
    </ul>
    <!-- Hidden if no completed items are left ↓ -->
    <button class="clear-completed" style="${n>0?"":"display:none"}" onclick="${o(t,Cn)}">Clear completed</button>
  </footer>`,Rn=((t,e)=>e.querySelector(t)||(t=>{throw new Error(t)})(`${t} not found`))(".todoapp",document),Dn={todos:[],focus:null,filter:"/",nextId:0},Pn=new p(C(),new d),[Bn,Hn]=(t=>{const e=new St(it);return[n=>e.event(t.currentTime(),n),e]})(Pn);var qn,In;const zn=Pt(Hn,Dt(t=>(t=>e=>Ht({},e,{filter:t}))(t.newURL.replace(/^.*#/,"")),(qn=window,void 0===In&&(In=!1),function(t,e,n){return void 0===n&&(n=!1),new Bt(t,e,n)}("hashchange",qn,In)))),Fn=(Zn=Rt((t,e)=>e(t),Dn,zn),Et($t,Zn));var Zn;Mt(Rt((t=>(e,n)=>{const r=(({todos:t})=>t.reduce(qt,0))(n),i=n.todos.filter(t=>{switch(n.filter){case"/":return!0;case"/active":return t.completed;case"/completed":return!t.completed}});return xn(e)`
    <header class="header">
      <h1>todos</h1>
      <input class="new-todo" name="new-todo" placeholder="What needs to be done?" autofocus onkeypress="${o(t,Tn)}">
    </header>
    ${Sn(t,i.length>0&&r===i.length,i)}
    ${Mn(t,n.todos.length-r,r,n)}`})(Bn),Rn,Fn),Pn)}();
//# sourceMappingURL=app.js.map
